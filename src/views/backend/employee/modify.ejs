
    <h1>관리자 수정</h1>
    <p>관리자 수정 페이지입니다.</p>
    <form id="formAdminRegister">
        <ul>
            <li>
                <label for="email">이메일</label>
                <input type="email" id="email" name="email" placeholder="이메일" value="<%= data.email %>" required>
            </li>
            <li>
                <label for="name">이름</label>
                <input type="text" id="name" name="name" placeholder="이름" value="<%= data.name %>" required>
            </li>
            <li>
                <label for="position">직급</label>
                <input type="text" id="position" name="position" value="<%= data.position %>" placeholder="직급">
            </li>
            <li>
                <label for="description">설명</label>
                <input type="text" id="description" name="description" value="<%= data.description %>" placeholder="설명">
            </li>
            <li>
                <label for="phone">전화번호</label>
                <input type="text" id="phone" name="phone" value="<%= data.phone %>" placeholder="전화번호">
            </li>
            <li>
                <label for="mobile">휴대전화</label>
                <input type="text" id="mobile" name="mobile" value="<%= data.mobile %>" placeholder="휴대전화">
            </li>
            <li>
                <label for="address">주소</label>
                <input type="text" id="address" name="address" value="<%= data.address %>" placeholder="주소">
            </li>
            <li>
                <label for="hireDate">입사일</label>
                <input type="date" id="hireDate" name="hireDate" value="<%= data.hireDate %>" placeholder="입사일">
            </li>
            <li>
                <label for="birthDate">생년월일</label>
                <input type="date" id="birthDate" name="birthDate" value="<%= data.birthDate %>" placeholder="생년월일">
            </li>
            <li>
                <button type="submit">수정</button>
            </li>
        </ul>
    </form>

    <script>
        document.getElementById('formAdminRegister').addEventListener('submit', async function(event) {
            event.preventDefault();

            // 폼 데이터 수집
            const formData = new FormData(this);

            // JSON 변환
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });

            try {
                // POST 요청 보내기
                const response = await fetch('/api/admin/regist', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });

                // 응답 처리
                if (response.ok) {
                    const result = await response.json();
                    alert('등록 성공: ' + result.message);
                    // 성공 시 추가 동작 (예: 페이지 리다이렉트)

                } else {
                    const error = await response.json();
                    alert('등록 실패: ' + error.message);

                }

            } catch (err) {
                console.error('Error:', err);
                alert('서버 오류가 발생했습니다.');
                
            }
        });
    </script>

